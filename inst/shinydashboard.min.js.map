{"version":3,"sources":["../srcjs/_start.js","../srcjs/shinydashboard-part.js"],"names":["$","deactivateOtherTabs","$this","this","$sidebarMenu","closest","$tablinks","find","not","parent","removeClass","trigger","document","on","ensureActivatedTab","filter","$startTab","length","tab","hasClass","first","data","addClass","hide","next","window","$obj","inputBinding","toggleValue","setValue","attr","substring","menuOutputBinding","Shiny","OutputBinding","extend","scope","onValueError","el","err","unbindAll","renderError","renderValue","html","dependencies","deps","$html","parseHTML","renderHtml","className","initializeInputs","bindAll","outputBindings","register","tabItemInputBinding","InputBinding","getValue","anchor","children","_getTabName","value","self","anchors","each","receiveMessage","hasOwnProperty","subscribe","callback","unsubscribe","off","inputBindings","sidebarmenuExpandedInputBinding","getId","initialize","$expanded","prev","$ul","show","sidebarCollapsedInputBinding","current","newVal"],"mappings":"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","file":"shinydashboard.min.js","sourcesContent":["//---------------------------------------------------------------------\n// Source file: ../srcjs/_start.js\n\n$(function() {\n","//---------------------------------------------------------------------\n// Source file: ../srcjs/shinydashboard-part.js\n\n/* global Shiny */\n\n// This function handles a special case in the AdminLTE sidebar: when there\n// is a sidebar-menu with items, and one of those items has sub-items, and\n// they are used for tab navigation. Normally, if one of the items is\n// selected and then a sub-item is clicked, both the item and sub-item will\n// retain the \"active\" class, so they will both be highlighted. This happens\n// because they're not designed to be used together for tab panels. This\n// code ensures that only one item will have the \"active\" class.\nvar deactivateOtherTabs = function() {\n  var $this = $(this);\n  var $sidebarMenu = $this.closest(\"ul.sidebar-menu\");\n\n  // Find all tab links under sidebar-menu\n  var $tablinks = $sidebarMenu.find(\"a[data-toggle='tab']\");\n\n  // If any other items are active, deactivate them\n  $tablinks.not($this).parent(\"li\").removeClass(\"active\");\n\n  // Trigger event for the tabItemInputBinding\n  $sidebarMenu.trigger('change.tabItemInputBinding');\n};\n\n$(document).on('shown.bs.tab', '.sidebar-menu a[data-toggle=\"tab\"]',\n               deactivateOtherTabs);\n\n\n// When document is ready, if there is a sidebar menu with no activated tabs,\n// activate the one specified by `data-start-selected`, or if that's not\n// present, the first one.\nvar ensureActivatedTab = function() {\n  var $tablinks = $(\"ul.sidebar-menu\").find(\"a\").filter(\"[data-toggle='tab']\");\n\n  // If there's a `data-start-selected` attribute and we can find a tab with\n  // that name, activate it.\n  var $startTab = $tablinks.filter(\"[data-start-selected='1']\");\n  if ($startTab.length !== 0) {\n    $startTab.tab(\"show\");\n    return;\n  }\n\n  // If we got this far, just activate the first tab.\n  if (! $tablinks.parent(\"li\").hasClass(\"active\") ) {\n    $tablinks.first().tab(\"show\");\n  }\n};\n\nensureActivatedTab();\n\n// Optionally disable sidebar\nif ($(\"section.sidebar\").data(\"disable\")) {\n  $(\"body\").addClass(\"sidebar-collapse\");\n  $(\".navbar > .sidebar-toggle\").hide();\n}\n\n// Trigger \"shown\" event for elements that only become visible after\n// the corresponding menuItem is expanded (otherwise, Shiny will still\n// think they're hidden and not render them)\n$(document).on(\"click\", \".treeview > a\", function() {\n  $(this).next(\".treeview-menu\").trigger(\"shown\");\n});\n\n// Whenever the sidebar expand/collapse button is clicked:\n//   *  Trigger the resize event (this allows images to be\n//      responsive and resize themselves)\n//   *  Update the value for the sidebar's input binding\n$(document).on(\"click\", \".sidebar-toggle\", function() {\n  $(window).trigger(\"resize\");\n  var $obj = $('.main-sidebar.shiny-bound-input');\n  var inputBinding = $obj.data('shiny-input-binding');\n  inputBinding.toggleValue($obj);\n  $obj.trigger('change');\n});\n\n// Whenever we expand a menuItem (to be expandable, it must have children),\n// update the value for the expandedItem's input binding (this is the\n// tabName of the menuItem that is currently expanded)\n$(document).on(\"click\", \"a[href^='#shiny-tab-']\", function() {\n  if ($(this).parent().hasClass('treeview')) {\n    var $obj = $('section.sidebar.shiny-bound-input');\n    var inputBinding = $obj.data('shiny-input-binding');\n    inputBinding.setValue($obj, $(this).attr('href').substring(1));\n    $obj.trigger('change');\n  }\n});\n\n// menuOutputBinding\n// ------------------------------------------------------------------\n// Based on Shiny.htmlOutputBinding, but instead of putting the result in a\n// wrapper div, it replaces the origin DOM element with the new DOM elements,\n// copying over the ID and class.\nvar menuOutputBinding = new Shiny.OutputBinding();\n$.extend(menuOutputBinding, {\n  find: function(scope) {\n    return $(scope).find('.shinydashboard-menu-output');\n  },\n  onValueError: function(el, err) {\n    Shiny.unbindAll(el);\n    this.renderError(el, err);\n  },\n  renderValue: function(el, data) {\n    Shiny.unbindAll(el);\n\n    var html;\n    var dependencies = [];\n    if (data === null) {\n      return;\n    } else if (typeof(data) === 'string') {\n      html = data;\n    } else if (typeof(data) === 'object') {\n      html = data.html;\n      dependencies = data.deps;\n    }\n\n    var $html = $($.parseHTML(html));\n\n    // Convert the inner contents to HTML, and pass to renderHtml\n    Shiny.renderHtml($html.html(), el, dependencies);\n\n    // Extract class of wrapper, and add them to the wrapper element\n    el.className = 'shinydashboard-menu-output shiny-bound-output ' +\n                   $html.attr('class');\n\n    Shiny.initializeInputs(el);\n    Shiny.bindAll(el);\n  }\n});\nShiny.outputBindings.register(menuOutputBinding,\n                              \"shinydashboard.menuOutputBinding\");\n\n\n// tabItemInputBinding\n// ------------------------------------------------------------------\n// Based on Shiny.tabItemInputBinding, but customized for tabItems in\n// shinydashboard, which have a slightly different structure.\nvar tabItemInputBinding = new Shiny.InputBinding();\n$.extend(tabItemInputBinding, {\n  find: function(scope) {\n    return $(scope).find('ul.sidebar-menu');\n  },\n  getValue: function(el) {\n    var anchor = $(el).find('li:not(.treeview).active').children('a');\n    if (anchor.length === 1)\n      return this._getTabName(anchor);\n\n    return null;\n  },\n  setValue: function(el, value) {\n    var self = this;\n    var anchors = $(el).find('li:not(.treeview)').children('a');\n    anchors.each(function() {\n      if (self._getTabName($(this)) === value) {\n        $(this).tab('show');\n        return false;\n      }\n    });\n  },\n  receiveMessage: function(el, data) {\n    if (data.hasOwnProperty('value'))\n      this.setValue(el, data.value);\n  },\n  subscribe: function(el, callback) {\n    // This event is triggered by deactivateOtherTabs, which is triggered by\n    // shown. The deactivation of other tabs must occur before Shiny gets the\n    // input value.\n    $(el).on('change.tabItemInputBinding', function() {\n      callback();\n    });\n  },\n  unsubscribe: function(el) {\n    $(el).off('.tabItemInputBinding');\n  },\n  _getTabName: function(anchor) {\n    return anchor.attr('data-value');\n  }\n});\nShiny.inputBindings.register(tabItemInputBinding, 'shinydashboard.tabItemInput');\n\n\n// sidebarmenuExpandedInputBinding\n// ------------------------------------------------------------------\n// This keeps tracks of what menuItem (if any) is expanded\nvar sidebarmenuExpandedInputBinding = new Shiny.InputBinding();\n$.extend(sidebarmenuExpandedInputBinding, {\n  find: function(scope) {\n    return $(scope).find('section.sidebar');\n  },\n  getId: function(el) {\n    return \"itemExpanded\";\n  },\n  // needed so we set the appropriate value for bookmarked apps on startup\n  initialize: function(el) {\n    $(this).trigger('change');\n  },\n  // the value is the href of the open menuItem (or NULL if there's\n  // no open menuItem)\n  getValue: function(el) {\n    var $expanded = $(el).find('li ul.menu-open');\n    if ($expanded.length === 1) return $expanded.prev().attr('href').substring(1);\n    else if ($(el).attr(\"data-expanded\")) return $(el).attr(\"data-expanded\");\n    else return null;\n  },\n  setValue: function(el, value) {\n    if (value !== null) {\n      var $ul = $('a[href=\"#' + value + '\"]').next();\n      $ul.addClass('menu-open');\n      $ul.show();\n    }\n  },\n  receiveMessage: function(el, data) {\n    if (data.hasOwnProperty('value'))\n      this.setValue(el, data.value);\n  },\n  subscribe: function(el, callback) {\n    $(el).on('change.sidebarmenuExpandedInputBinding', function() {\n      callback();\n    });\n  },\n  unsubscribe: function(el) {\n    $(el).off('.sidebarmenuExpandedInputBinding');\n  }\n});\nShiny.inputBindings.register(sidebarmenuExpandedInputBinding,\n  'shinydashboard.sidebarmenuExpandedInputBinding');\n\n\n// sidebarCollapsedInputBinding\n// ------------------------------------------------------------------\n// This keeps tracks of whether the sidebar is expanded (default)\n// or collapsed\nvar sidebarCollapsedInputBinding = new Shiny.InputBinding();\n$.extend(sidebarCollapsedInputBinding, {\n  find: function(scope) {\n    return $(scope).find('.main-sidebar').first();\n  },\n  getId: function(el) {\n    return \"sidebarCollapsed\";\n  },\n  getValue: function(el) {\n    return $(el).attr(\"data-value\");\n  },\n  setValue: function(el, value) {\n    $(el).attr(\"data-value\", value);\n  },\n  toggleValue: function(el) {\n    var current = this.getValue(el);\n    var newVal = (current == \"collapsed\") ? \"expanded\" : \"collapsed\";\n    this.setValue(el, newVal);\n  },\n  receiveMessage: function(el, data) {\n    if (data.hasOwnProperty('value'))\n      this.setValue(el, data.value);\n  },\n  subscribe: function(el, callback) {\n    $(el).on('change.sidebarCollapsedInputBinding', function() {\n      callback();\n    });\n  },\n  unsubscribe: function(el) {\n    $(el).off('.sidebarCollapsedInputBinding');\n  }\n});\nShiny.inputBindings.register(sidebarCollapsedInputBinding,\n  'shinydashboard.sidebarCollapsedInputBinding');\n"]}